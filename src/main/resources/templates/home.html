<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html>
<head>
    <title>Hiep Trong Store</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--
		CSS
		============================================= -->

<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
          integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">-->
    <link rel="stylesheet" type="text/css" th:href="@{/css/linearicons.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/font-awesome.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/themify-icons.css}"/>
     <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/owl.carousel.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/nice-select.css}"/>
    <!-- <link rel="stylesheet" type="text/css" th:href="@{/css/nouislider.mincss}"/>
     <link rel="stylesheet" type="text/css" th:href="@{/css/ion.rangeSlider..css}"/>-->
    <link rel="stylesheet" type="text/css" th:href="@{/css/ion.rangeSlider.skinFlat.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/magnific-popup.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}"/>

    <!--   <link rel="stylesheet" type="text/css" th:href="@{/css/scroll_snippet.css}"/>-->


</head>
<body>

<!--Header-->
<div th:replace="fragments/header :: header_info"></div>

<!-- Banner  -->
<section class="banner-area">
    <div class="container">
        <div class="row fullscreen justify-content-start">
            <div class="col-lg-12" style="padding-top: 130px">
                <div class="spr-banner pt-2">
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                        <!-- Indicators -->
                        <ol class="carousel-indicators">
                            <th:block th:each="banner,iter : ${vm.getListBanners()}">
                                <li data-target="#carouselExampleIndicators" th:if="${iter.index == 0}"
                                    th:attr="data-slide-to=${iter.index}" class="active"></li>
                                <li data-target="#carouselExampleIndicators" th:unless="${iter.index == 0}"
                                    th:attr="data-slide-to=${iter.index}"></li>
                            </th:block>
                        </ol>

                        <!-- Wrapper for slides -->
                        <div class="carousel-inner ">

                            <th:block th:each="banner,iter : ${vm.getListBanners()}">

                                <div class="carousel-item active" th:if="${iter.index == 0}">
                                    <a th:href="${banner.getLink()}">
                                        <img width="1120" height="479" th:src="${banner.getImageUrl()}"
                                             th:alt="${banner.getAltText()}">
                                    </a>

                                    <div class="carousel-caption d-none d-md-block">
                                        <h5 th:text="${banner.getAltText()}"></h5>

                                    </div>
                                </div>

                                <div class="carousel-item" th:unless="${iter.index == 0}">
                                    <a th:href="${banner.getLink()}">
                                        <img width="1120" height="479" th:src="${banner.getImageUrl()}"
                                             th:alt="${banner.getAltText()}">
                                    </a>

                                    <div class="carousel-caption d-none d-md-block">
                                        <h5 th:text="${banner.getAltText()}"></h5>
                                    </div>
                                </div>


                            </th:block>
                        </div>

                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"
                           data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"
                           data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--  Features  -->
<section class="features-area section_gap">
    <div class="container">
        <div class="row features-inner">
            <!-- single features -->
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-features">
                    <div class="f-icon">
                        <img src="img/features/f-icon1.png" alt="">
                    </div>
                    <h6>Miễn phí vận chuyển</h6>
                    <p> Áp dụng hóa đơn dưới 3km</p>
                </div>
            </div>
            <!-- single features -->
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-features">
                    <div class="f-icon">
                        <img src="img/features/f-icon2.png" alt="">
                    </div>
                    <h6>Chính sách đổi trả</h6>
                    <p>Hỗ trợ đổi trả</p>
                </div>
            </div>
            <!-- single features -->
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-features">
                    <div class="f-icon">
                        <img src="img/features/f-icon3.png" alt="">
                    </div>
                    <h6>Hỗ trợ 24/7</h6>
                    <p>Hỗ trợ trực tuyến liên tục</p>
                </div>
            </div>
            <!-- single features -->
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-features">
                    <div class="f-icon">
                        <img src="img/features/f-icon4.png" alt="">
                    </div>
                    <h6>Thanh toán đa dạng</h6>
                    <p>Thanh toán qua thẻ, ví điện tử</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!--  Category  -->
<section class="category-area">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-12">
                <div class="row">
                    <div class="col-lg-4 col-md-4"
                         th:each="category : ${vm.getCategoryVMList()}">
                        <div class="single-deal">
                            <div class="overlay"></div>
                            <img class="img-fluid w-100" src="img/category/c1.jpg" alt="">
                            <a th:href="${'/?categoryId='+category.getId()}">
                                <div class="deal-details">
                                    <h6 class="deal-title" th:text="${category.getName()}"></h6>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>


<!-- start product Area -->
<section class="single-product-slider">

    <!-- single product slide -->


    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 text-center">
                <div class="section-title">
                    <h1>Các đầu sách</h1>
                </div>
            </div>
        </div>

        <div class="row" style="margin-bottom: 50px">
            <div class="col-md-10 col-sm-10 col-xs-10"><h2 th:if="${vm.getKeyWord()}"
                                                           th:text="${vm.getKeyWord()}"></h2></div>
            <div class="col-md-2 col-sm-2 col-xs-2">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Sắp xếp
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" th:href="${'?'+(#httpServletRequest.getParameter('categoryId')==null?'':('&categoryId='+#httpServletRequest.getParameter('categoryId')))
                                                                                       +(#httpServletRequest.getParameter('page')==null?'':('&page='+#httpServletRequest.getParameter('page')))
                                                                                       +(#httpServletRequest.getParameter('size')==null?'':('&size='+#httpServletRequest.getParameter('size')))
                                                                                       +('&sortByPrice=ASC')
                                                                                       +(#httpServletRequest.getParameter('name')==null?'':('&name='+#httpServletRequest.getParameter('name')))}">Price
                            ASC</a>
                        <a class="dropdown-item" th:href="${'?'+(#httpServletRequest.getParameter('categoryId')==null?'':('&categoryId='+#httpServletRequest.getParameter('categoryId')))
                                                                                       +(#httpServletRequest.getParameter('page')==null?'':('&page='+#httpServletRequest.getParameter('page')))
                                                                                       +(#httpServletRequest.getParameter('size')==null?'':('&size='+#httpServletRequest.getParameter('size')))
                                                                                       +('&sortByPrice=DESC')
                                                                                       +(#httpServletRequest.getParameter('name')==null?'':('&name='+#httpServletRequest.getParameter('name')))}">Price
                            DESC</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- single product -->
            <div class="col-lg-3 col-md-6" th:each="book : ${vm.getBookVMList()}">
                <div class="single-product">
                    <a th:href="${'/book/'+book.getId()}">
                        <img th:src="${book.getMainImage()}" height="265" width="240" alt="">
                    </a>

                    <div class="discount">
                        <span class="percentage" th:text="${-book.getDiscount()+ '%'}"></span>
                    </div>
                    <div class="product-details">
                        <h6 th:text="${book.getName()}"></h6>
                        <div class="price">
                            <h6 th:text="${(book.getPrice() - book.getPrice()*book.getDiscount()/100 )+ 'K VND'}"></h6>
                            <h6 class="l-through" th:text="${book.getPrice()+ 'K VND'}""></h6>
                        </div>

                        <div class="prd-bottom">

                            <a class="social-info add-to-cart" th:attr="data-book=${book.getId()}">
                                <span class="ti-bag"></span>
                                <p class="hover-text pr-3 ">Chọn mua</p>
                            </a>
                            <!-- <button type="button" class="btn btn-primary add-to-cart" th:attr="data-book=${book.getId()}">Add to cart</button>-->
                            <a th:href="${'/book/'+book.getId()}" class="social-info">
                                <span class="lnr lnr-move"></span>
                                <p class="hover-text pr-3">Xem chi tiết</p>
                            </a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <nav style="margin-top: 50px" aria-label="..." th:if="${vm.getBookVMList().size()>0}">
            <ul class="pagination">
                <th:block th:each="i: ${#numbers.sequence(0, page.totalPages - 1)}">
                    <li class="page-item active" th:if="${page.number == i}" aria-current="page">
                        <a class="page-link" th:href="${''}" th:text="${i+1}"><span class="sr-only"></span></a>
                    </li>
                    <li class="page-item" th:unless="${page.number == i}"><a class="page-link" th:text="${i+1}"
                                                                             th:href="${'?'
                                                                                       +('&page='+i)
                                                                                       +(#httpServletRequest.getParameter('size')==null?'':('&size='+#httpServletRequest.getParameter('size')))
                                                                                       +(#httpServletRequest.getParameter('name')==null?'':('&name='+#httpServletRequest.getParameter('name')))}"></a>
                    </li>
                </th:block>
            </ul>
        </nav>

    </div>

</section>

<!-- end product Area -->
<!--<a href="#section08"><span></span><span></span><span></span>Scroll</a>-->


<!--Footer-->
<div th:replace="fragments/footer :: footer_info"></div>

<!--Import JS-->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.9.0/sweetalert2.all.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
<script th:src="@{/js/home.js}"></script>
<script th:src="@{/js/vendor/jquery-2.2.4.min.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
<script th:src="@{/js/vendor/bootstrap.min.js}"></script>
<script th:src="@{/js/jquery.ajaxchimp.min.js}"></script>
<script th:src="@{/js/jquery.nice-select.min.js}"></script>
<script th:src="@{/js/jquery.sticky.js}"></script>
<!--<script th:src="@{/js/nouislider.min.js}"></script>-->
<!--<script th:src="@{/js/countdown.js}"></script>-->
<script th:src="@{/js/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/js/owl.carousel.min.js}"></script>
<!--<script th:src="@{/js/scroll_snippet.js}"></script>-->


<!--gmaps Js-->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
<script th:src="@{/js/gmaps.min.js}"></script>
<script th:src="@{/js/main.js}"></script>
</body>
</html>

